{"version":3,"file":"sf-i-sub-select.js","sourceRoot":"","sources":["src/sf-i-sub-select.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2022 Superflow.dev\n * SPDX-License-Identifier: MIT\n */\n\nimport {LitElement, html, css, PropertyValueMap} from 'lit';\nimport {customElement, query, property, queryAssignedElements} from 'lit/decorators.js';\nimport Util from './util';\nimport {SfISelect} from 'sf-i-select';\n// import {LitElement, html, css} from 'lit';\n// import {customElement} from 'lit/decorators.js';\n\n/**\n * SfISubSelect element.\n * @fires renderComplete - When the list is populated\n * @fires valueChanged - When the value is changed\n * @property apiId - backend api id\n * @property label - select input label\n * @property name - name of the input\n * @property selectedId - id (primary key) to be preselected\n * @property filterId - filter by the foreign key id\n * @property selectedValue - value of the selected item\n * @property repopulate - repopulate the list\n */\n@customElement('sf-i-sub-select')\nexport class SfISubSelect extends LitElement {\n\n  @property()\n  apiId!: string;\n\n  @property()\n  label!: string;\n\n  @property()\n  name!: string;\n\n  @property()\n  mode!: string;\n\n  @property()\n  flow!: string;\n\n  @property()\n  selectedId: string[] = [];\n\n  @property()\n  filterId!: string;\n\n  @property()\n  removedValues: string[] = [];\n\n  selectedIndex = () => {\n\n    let index = 0;\n\n    const len = this._SfInputSelect.options.length;\n    for (var i = 0; i < len; i++) {\n      const opt = this._SfInputSelect.options[i];\n      if (opt.selected) {\n        index = i;\n      }\n    }\n\n    return index;\n\n  }\n\n  selectedValues = () => {\n\n    const values = [];\n\n    const len = this._SfInputSelect.options.length;\n    for (var i = 0; i < len; i++) {\n      const opt = this._SfInputSelect.options[i];\n      if (opt.selected) {\n        values.push(opt.value);\n      }\n    }\n\n    return values;\n  }\n\n  selectedTexts = () => {\n\n    const values = [];\n\n    const len = this._SfInputSelect.options.length;\n    for (var i = 0; i < len; i++) {\n      const opt = this._SfInputSelect.options[i];\n      if (opt.selected) {\n        values.push(this._SfInputSelect.options[i].text)\n      }\n    }\n\n    return values;\n\n  }\n\n  static override styles = css`\n    \n    .SfISubSelectC {\n      display: flex;\n      flex-direction: column;\n      align-items: stretch;\n      justify-content: space-between;\n    }\n\n    .SfISubSelectCAdmin {\n      padding: 10px 20px;\n    }\n\n    .SfISubSelectC label{\n      padding-bottom: 5px;\n    }\n\n    .SfISubSelectC div{\n      display: flex;\n      align-items: center;\n    }\n\n    .SfISubSelectC > div > select{\n      flex-grow: 1;\n    }\n\n    .loader-element {\n    }\n\n    .link {\n      text-decoration: none;\n      color: inherit;\n      cursor: pointer;\n      font-size: 90%;\n    }\n\n\n    .lds-dual-ring {\n      display: inline-block;\n      width: 15px;\n      height: 15px;\n    }\n    .lds-dual-ring:after {\n      content: \" \";\n      display: block;\n      width: 10px;\n      height: 10px;\n      margin: 0px;\n      border-radius: 50%;\n      border: 2px solid #fff;\n      border-color: #888 #ddd #888 #ddd;\n      animation: lds-dual-ring 0.8s linear infinite;\n    }\n\n    .lds-dual-ring-lg {\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n    }\n    .lds-dual-ring-lg:after {\n      content: \" \";\n      display: block;\n      width: 30px;\n      height: 30px;\n      margin: 0px;\n      border-radius: 50%;\n      border: 3px solid #fff;\n      border-color: #888 #ddd #888 #ddd;\n      animation: lds-dual-ring 0.8s linear infinite;\n    }\n\n    .button-action {\n      margin: 5px;\n    }\n\n    .div-row-error {\n      display: none;\n      align-items:center;\n    }\n\n    .div-row-error-message {\n      color: red;\n      padding: 5px;\n      background-color: white;\n      border: dashed 1px red;\n      width: 100%;\n      text-align: center;\n    }\n\n    .div-row-success {\n      display: none;\n      align-items:center;\n    }\n\n    .div-row-success-message {\n      color: green;\n      padding: 5px;\n      background-color: white;\n      border: dashed 1px green;\n      width: 100%;\n      text-align: center;\n    }\n\n    .d-flex {\n      display: flex;\n    }\n\n    .justify-center {\n      justify-content: center;\n    }\n\n    .justify-end {\n      justify-content: flex-end;\n    }\n\n    .justify-between {\n      justify-content: space-between;\n    }\n\n    .align-center {\n      align-items: center;\n    }\n\n    .flex-col {\n      flex-direction: column;\n    }\n\n    .justify-end {\n      justify-content: flex-end;\n    }\n\n    .mb5 {\n      margin-bottom: 5px;\n    }\n\n    .mt5 {\n      margin-top: 5px;\n    }\n\n    .mt10 {\n      margin-top: 10px;\n    }\n\n    @keyframes lds-dual-ring {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }  \n\n    .hide {\n      display: none;\n    }\n\n    .badge {\n      border: dashed 1px;\n      padding-top: 1px;\n      padding-bottom: 1px;\n      padding-left: 10px;\n      padding-right: 10px;\n      border-radius: 20px;\n      margin-top: -20px;\n    }\n\n    .lb {\n      width: 5%\n    }\n    .rb {\n      width: 5%\n    }\n\n    .tcId {\n      min-width: 300px;\n    }\n\n    .tcName {\n      min-width: 200px;\n    }\n\n    .tcActions {\n      min-width: 150px;\n      text-align: right;\n    }\n\n    .SfISubSelectCAdmin th {\n      border-bottom: solid 1px black\n    }\n\n    .SfISubSelectCAdmin td {\n      border-bottom: solid 1px gray\n    }\n\n    .tableC {\n      overflow-x: auto;\n    }\n\n    @media (orientation: landscape) {\n\n      .lb {\n        width: 25%\n      }\n      .rb {\n        width: 25%\n      }\n\n    }\n\n  `;\n\n  @query('.SfISubSelectC select')\n  _sfSelect: any;\n\n  @query('.loader-element')\n  _SfLoader: any;\n\n  @query('.tableC')\n  _SfTableC: any;\n\n  @query('.newC')\n  _SfNewC: any;\n\n  @query('.input-new')\n  _SfInputNew: any;\n\n  @query('.input-select')\n  _SfInputSelect: any;\n\n  @query('.div-row-error')\n  _SfRowError: any;\n\n  @query('.div-row-error-message')\n  _SfRowErrorMessage: any;\n\n  @query('.div-row-success')\n  _SfRowSuccess: any;\n\n  @query('.div-row-success-message')\n  _SfRowSuccessMessage: any;\n\n  @queryAssignedElements({slot: 'fk'})\n  _sfSlottedFk: any;\n\n  clearMessages = () => {\n    this._SfRowError.style.display = 'none';\n    this._SfRowErrorMessage.innerHTML = '';\n    this._SfRowSuccess.style.display = 'none';\n    this._SfRowSuccessMessage.innerHTML = '';\n  }\n\n  setError = (msg: string) => {\n    this._SfRowError.style.display = 'flex';\n    this._SfRowErrorMessage.innerHTML = msg;\n    this._SfRowSuccess.style.display = 'none';\n    this._SfRowSuccessMessage.innerHTML = '';\n  }\n\n  setSuccess = (msg: string) => {\n    this._SfRowError.style.display = 'none';\n    this._SfRowErrorMessage.innerHTML = '';\n    this._SfRowSuccess.style.display = 'flex';\n    this._SfRowSuccessMessage.innerHTML = msg;\n  }\n\n  clearSelection = () => {\n    this._SfInputSelect.value = 'noselect';\n  }\n\n  prepareXhr = async (data: any, url: string, loaderElement: any, authorization: any) => {\n\n    \n    if(loaderElement != null) {\n      loaderElement.innerHTML = '<div class=\"lds-dual-ring\"></div>';\n    }\n    return await Util.callApi(url, data, authorization);\n\n  }\n\n  \n  submitNew = () => {\n\n  }\n\n  renderList = (values: Array<any>) => {\n\n    if(this.mode == \"admin\") {\n\n      var innerHTML = '';\n\n      innerHTML = '<table><tr><th>Id</th><th>Name</th><th>Action</th></tr>'\n\n      for(var i = 0; i < values.length; i++) {\n\n        innerHTML += '<tr>';\n        innerHTML += '<td class=\"tcId\">';\n        innerHTML += values[i].id;\n        innerHTML += '</td>';\n        innerHTML += '<td class=\"tcName\">';\n        innerHTML += '<span id=\"text-'+values[i].id+'\">' + values[i].name + '</span>';\n        innerHTML += '<input class=\"hide\" id=\"input-'+values[i].id+'\" type=\"text\" value=\"'+values[i].name+'\" />';\n        innerHTML += '</td>';\n        innerHTML += '<td class=\"tcActions\">';\n        innerHTML += '<button id=\"edit-'+values[i].id+'\">Edit</button>';\n        innerHTML += '<button id=\"cancel-'+values[i].id+'\" class=\"hide\">Cancel</button>';\n        innerHTML += '<button id=\"submit-'+values[i].id+'\" class=\"hide\">Submit</button>';\n        innerHTML += '<button id=\"delete-'+values[i].id+'\">Delete</button>';\n        innerHTML += '<button id=\"canceld-'+values[i].id+'\" class=\"hide\">Cancel</button>';\n        innerHTML += '<button id=\"confirm-'+values[i].id+'\" class=\"hide\">Confirm Delete</button>';\n        innerHTML += '</td>';\n        innerHTML += '</tr>';\n\n      }\n\n      this._SfTableC.innerHTML = innerHTML;\n\n      for(var i = 0; i < values.length; i++) {\n        this._SfTableC.querySelector('#edit-'+values[i].id+'').addEventListener('click', (event: any)=> {\n          const id = event.target?.id.replace('edit-', '');\n          this._SfTableC.querySelector('#edit-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#delete-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#text-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#cancel-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#submit-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#input-'+id+'').style.display = 'inline';\n        })\n        this._SfTableC.querySelector('#cancel-'+values[i].id+'').addEventListener('click', (event: any)=> {\n          const id = event.target?.id.replace('cancel-', '');\n          this._SfTableC.querySelector('#edit-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#delete-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#text-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#cancel-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#submit-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#input-'+id+'').style.display = 'none';\n        })\n        this._SfTableC.querySelector('#input-'+values[i].id+'').addEventListener('keyup', (event: any)=> {\n          const id = event.target?.id.replace('input-', '');\n          const name = event.target.value;\n          if(Util.validateName(name)) {\n            this._SfTableC.querySelector('#submit-'+id+'').removeAttribute('disabled');\n          } else {\n            this._SfTableC.querySelector('#submit-'+id+'').setAttribute('disabled', true);\n          }\n        });\n        this._SfTableC.querySelector('#confirm-'+values[i].id+'').addEventListener('click', async (event: any)=> {\n          this.clearMessages();\n          const id = event.target?.id.replace('confirm-', '');\n          const selectedValue = (document.querySelector('.input-parent-select') as SfISelect).selectedValue();\n          const body = {\"fk\": selectedValue, \"id\": id};\n          const authorization = btoa(Util.readCookie('email') + \":\" + Util.readCookie('accessToken'));\n          const xhr : any = (await this.prepareXhr(body, \"https://\"+this.apiId+\".execute-api.us-east-1.amazonaws.com/test/delete\", this._SfLoader, authorization)) as any;\n          this._SfLoader.innerHTML = '';\n          if(xhr.status == 200) {\n            this.setSuccess('Operation Successful!');\n            setTimeout(() => {\n              this.clearMessages();\n              this._SfNewC.querySelector('.input-new').value = \"\";\n              this.populateList();\n            }, 1000);\n            \n          } else {\n            const jsonRespose = JSON.parse(xhr.responseText);\n            this.setError(jsonRespose.error);\n          }\n        });\n        this._SfTableC.querySelector('#delete-'+values[i].id+'').addEventListener('click', async (event: any)=> {\n          const id = event.target?.id.replace('delete-', '');\n          event.target.style.display = 'none';\n          this._SfTableC.querySelector('#edit-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#confirm-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#canceld-'+id+'').style.display = 'inline';\n          \n        });\n        this._SfTableC.querySelector('#canceld-'+values[i].id+'').addEventListener('click', async (event: any)=> {\n          const id = event.target?.id.replace('canceld-', '');\n          event.target.style.display = 'none';\n          this._SfTableC.querySelector('#edit-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#delete-'+id+'').style.display = 'inline';\n          this._SfTableC.querySelector('#confirm-'+id+'').style.display = 'none';\n          this._SfTableC.querySelector('#canceld-'+id+'').style.display = 'none';\n          \n        });\n        this._SfTableC.querySelector('#submit-'+values[i].id+'').addEventListener('click', async (event: any)=> {\n          this.clearMessages();\n\n          const id = event.target?.id.replace('submit-', '');\n          const selectedValue = (document.querySelector('.input-parent-select') as SfISelect).selectedValue();\n          const name = this._SfTableC.querySelector('#input-'+id+'').value;\n\n          const body = {\"name\": name, \"fk\": selectedValue, \"id\": id};\n          const authorization = btoa(Util.readCookie('email') + \":\" + Util.readCookie('accessToken'));\n          const xhr : any = (await this.prepareXhr(body, \"https://\"+this.apiId+\".execute-api.us-east-1.amazonaws.com/test/update\", this._SfLoader, authorization)) as any;\n          this._SfLoader.innerHTML = '';\n          if(xhr.status == 200) {\n            this.setSuccess('Operation Successful!');\n            setTimeout(() => {\n              this.clearMessages();\n              this._SfNewC.querySelector('.input-new').value = \"\";\n              this.populateList();\n            }, 1000);\n            \n          } else {\n            const jsonRespose = JSON.parse(xhr.responseText);\n            this.setError(jsonRespose.error);\n          }\n        });\n      }\n\n    } else {\n\n      var innerHTML = '';\n\n      innerHTML += '<option value=\"noselect\" '+ ((this.selectedId == null || this.selectedId.length === 0) ? 'selected' : '') +' disabled hidden>Select</option>'\n\n      for(var i = 0; i < values.length; i++) {\n        \n        if(this.removedValues.includes(values[i].id)) continue;\n\n        if(this.selectedId != null && this.selectedId.length > 0) {\n          if(this.selectedId.includes(values[i].id)) {\n            innerHTML += '<option value=\"'+values[i].id+'\" selected>'+values[i].name+'</option>'\n            this.dispatchMyEvent(\"valueChanged\", {newValue: values[i].id, newText: values[i].name})\n            continue;\n          } else {\n            innerHTML += '<option value=\"'+values[i].id+'\">'+values[i].name+'</option>';  \n          }\n        } else {\n          innerHTML += '<option value=\"'+values[i].id+'\">'+values[i].name+'</option>';\n        }\n        // if(i === 0) {\n        //   innerHTML += '<option value=\"'+values[i].id+'\" selected>'+values[i].name+'</option>'\n        //   this.dispatchMyEvent(\"valueChanged\", {newValue: values[i].id, newText: values[i].name})\n        // } else {\n        //   \n        // }\n\n      }\n\n      this._sfSelect.innerHTML = innerHTML;\n      console.log('renderlist', innerHTML);\n      this.dispatchMyEvent(\"renderComplete\", {});\n    }\n\n  }\n\n  populateList = async () => {\n\n    console.log('pop list');\n    const body = {\"fk\": this.mode == \"admin\" ? (document.querySelector('.input-parent-select') as SfISelect).selectedValue() : this.filterId};\n    const xhr : any = (await this.prepareXhr(body, \"https://\"+this.apiId+\".execute-api.us-east-1.amazonaws.com/test/list\", this._SfLoader, null)) as any;\n    this._SfLoader.innerHTML = '';\n    if(xhr.status == 200) {\n      const jsonRespose = JSON.parse(xhr.responseText);\n      const values = jsonRespose.data.values;\n      console.log('values', values);\n      this.renderList(values)\n    }\n  }\n\n  showNew = () => {\n    this._SfNewC.querySelector('#button-new').setAttribute('disabled', true);\n    this._SfNewC.querySelector('#button-view').removeAttribute('disabled');\n    this._SfNewC.querySelector('.new-section').style.display = 'flex';\n    this._SfNewC.querySelector('.view-section').style.display = 'none';\n  }\n\n  showView = () => {\n    this._SfNewC.querySelector('#button-view').setAttribute('disabled', true);\n    this._SfNewC.querySelector('#button-new').removeAttribute('disabled');\n    this._SfNewC.querySelector('.view-section').style.display = 'flex';\n    this._SfNewC.querySelector('.new-section').style.display = 'none';\n  }\n\n  removeItemByValue = (value: string) => {\n\n    if(!this.removedValues.includes(value)) {\n      this.removedValues.push(value);\n    }\n\n  }\n\n  dispatchMyEvent = (ev: string, args?: any) => {\n\n    console.log('dispatching event', ev);\n    const event = new CustomEvent(ev, {detail: args, bubbles: true, composed: true});\n    this.dispatchEvent(event);\n\n  }\n\n  onChangeSelect = (ev: any) => {\n    this.dispatchMyEvent(\"valueChanged\", {newValue: ev.target.value, newText: ev.target.options[ev.target.selectedIndex].text});\n  }\n\n  initState = async () => {\n\n    console.log('mode', this.mode);\n\n    if(this.flow == \"read\") {\n      this._sfSelect.setAttribute(\"disabled\", true);\n    } else {\n      this._sfSelect?.removeAttribute(\"disabled\");\n    }\n\n  }\n\n  initListeners = () => {\n\n    if(this.mode == \"admin\") {\n\n      this._SfNewC.querySelector('#button-new').addEventListener('click', ()=> {\n        this.showNew();\n      })\n\n\n      this._SfNewC.querySelector('#button-view').addEventListener('click', ()=> {\n        this.showView();\n        this.populateList();\n      })\n\n      this._SfNewC.querySelector('.input-new').addEventListener('keyup', ()=> {\n        const name = this._SfNewC.querySelector('.input-new').value;\n        if(Util.validateName(name)) {\n          this._SfNewC.querySelector('#button-submit-new').removeAttribute('disabled');\n        } else {\n          this._SfNewC.querySelector('#button-submit-new').setAttribute('disabled', true);\n        }\n      });\n\n      this._SfNewC.querySelector('#button-submit-new').addEventListener('click', async ()=> {\n\n        this.clearMessages();\n        const selectedValue = (document.querySelector('.input-parent-select') as SfISelect).selectedValue();\n        \n        const body = {\"name\": this._SfNewC.querySelector('.input-new').value, \"fk\": selectedValue};\n        const authorization = btoa(Util.readCookie('email') + \":\" + Util.readCookie('accessToken'));\n        const xhr : any = (await this.prepareXhr(body, \"https://\"+this.apiId+\".execute-api.us-east-1.amazonaws.com/test/create\", this._SfLoader, authorization)) as any;\n        this._SfLoader.innerHTML = '';\n        if(xhr.status == 200) {\n          this.setSuccess('Operation Successful!');\n          setTimeout(() => {\n            this.clearMessages();\n            this._SfNewC.querySelector('.input-new').value = \"\";\n          }, 1000);\n          \n        } else {\n          const jsonRespose = JSON.parse(xhr.responseText);\n          this.setError(jsonRespose.error);\n        }\n        \n      });\n\n      this._sfSlottedFk[0].addEventListener('valueChanged', () => {\n        this.populateList();\n      })\n\n    }\n\n\n  }\n\n  loadMode = () => {\n    this.initState();\n    this.initListeners(); \n    if(this.mode != \"admin\") {\n      this.populateList();\n    }\n  }\n\n  constructor() {\n    super();\n  }\n\n  protected override firstUpdated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\n    this.loadMode();\n  }\n  \n  override connectedCallback() {\n    super.connectedCallback()\n  }\n  \n  override render() {\n\n    if(this.mode == \"admin\") {\n\n      return html`\n        <div class=\"SfISubSelectCAdmin\">\n          <div class=\"d-flex justify-center\">\n            <h1 part=\"title\">${this.name}</h1>\n          </div>\n          <div class=\"d-flex justify-center\">\n            <div part=\"badge\" class=\"badge\">Admin</div>\n          </div>\n          <br />\n          <div class=\"newC\">\n            <div class=\"d-flex justify-center\">\n              <div class=\"lb\"></div>\n              <div class=\"d-flex flex-col\">\n                \n                \n                <div class=\"d-flex justify-center\">\n                  <button id=\"button-new\" class=\"button-action\">New</button>\n                  <button id=\"button-view\" class=\"button-action\">View</button>\n                </div>\n                <hr>\n                <div class=\"input-select mb5\"><slot name=\"fk\"></slot></div>\n                <div class=\"d-flex justify-center\">\n                  <div class=\"loader-element\"></div>\n                </div>\n                <div class=\"d-flex justify-center\">\n                  <div class=\"div-row-error div-row-submit\">\n                      <div part=\"errormsg\" class=\"div-row-error-message\"></div>\n                  </div>\n                  <div class=\"div-row-success div-row-submit\">\n                    <div part=\"successmsg\" class=\"div-row-success-message\"></div>\n                  </div>\n                </div>\n                <div class=\"d-flex flex-col new-section hide\">\n                  <input class=\"input-new mt5\" type=\"text\" placeholder=\"Name ...\"/>\n                  <button id=\"button-submit-new\" class=\"mt10\" disabled>Submit</button>\n                </div>\n              </div>\n              <div class=\"rb\"></div>\n            </div>\n            <br /><br />\n            <div class=\"d-flex justify-center view-section hide\">\n              <div class=\"lb\"></div>\n              <div class=\"d-flex flex-col justify-center align-center\">\n                <div class=\"tableC\">\n                </div>\n              </div>\n              <div class=\"rb\"></div>\n            </div>\n\n          </div>\n          <br />\n          \n        \n      `;\n\n    } else {\n\n      return html`\n        <div class=\"SfISubSelectC\">\n          <label>${this.label}</label>\n          <div>\n            <select class=\"input-select\" @change=\"${this.onChangeSelect}\">\n            </select>\n            <div class=\"loader-element\"></div>\n          </div>\n        </div>\n      `;\n    }\n\n  }\n\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'sf-i-sub-select': SfISubSelect;\n  }\n}\n"]}